#servers.yaml.dev
- name: documentum
  box:  puppetlabs/centos-6.6-64-nocm
  env:  dev
  role: allinone
  ram:  6288
  vram: 128
  cpus: 2
  desc: Single stack, Oracle XE, Documentum 7.1 Content Server and Admin client on tomcat 7
  forwarded_port:
    oracle_web:
       host:  8080
       guest: 8080
    cs_jms:
       host:  9080
       guest: 9080
    apps:
       host:  7070
       guest: 7070
  synced_folder:
    software:
       local:   D:/Software
       remote:  /opt/software
  provision:
#    remove_existing_swap_file:
#      inline:   swapoff -v /dev/dm-1
#    swap_2gb_file:
#      inline:   dd if=/dev/zero of=/swapfile bs=1024 count=2048k
#    swap_format:
#      inline:   mkswap /swapfile
#    swap_activate:
#      inline:   swapon /swapfile
#    swap_report:
#      inline:   swapon -s
#    software_update:
#      inline:   yum --assumeyes update
    git_client:
      inline:   yum --assumeyes install git
    puppet_master:
      inline:   cd /vagrant/packer/scripts;chmod u+x *.sh;./puppet.sh
    puppet_modules:
      inline:   cd /vagrant/puppet;chmod u+x *.sh;./setup_modules.sh
    puppet_apply:
      inline:   cd /vagrant/puppet;chmod u+x *.sh;./apply.sh

# https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-centos-6
# https://www.centos.org/docs/5/html/Deployment_Guide-en-US/s1-swap-adding.html
# http://docs.oracle.com/cd/E17781_01/install.112/e18802/toc.htm#XEINL110
